<app-side-nav (isShowNav)="handleSideBar($event)"></app-side-nav>
<div class="container-fluid " [ngStyle]="{'padding-left' : isShowPadding ? '280px' : '100px'}">
    <div class="row">
        <div class="col-12">
            <h2><mat-icon class="back" routerLink="/master/agent-list">arrow_back</mat-icon>Agent
            </h2>
        </div>
    </div>
    <div class="row">
        <div class="col-12 ">
            <form [formGroup]="agentFormData">
                <div class="row border">
                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">
                        <div class="row">
                            <div class="col-12 py-2">
                                <label for="" class="">Agent Id <sup>*</sup></label>
                                <input type="text" class="form-control " placeholder="Enter Agent Id"
                                    formControlName="agentId">
                                <div
                                    *ngIf="agentFormData.controls['agentId'].touched && agentFormData.controls['agentId'].dirty && agentFormData.controls['agentId'].hasError('required') && !isSubmitted">
                                    <p class="error-message">Agent Id is mandatory</p>
                                </div>
                                <div *ngIf="isSubmitted && agentFormData.controls['agentId'].hasError('required')">
                                    <p class="error-message">Agent Id is mandatory</p>
                                </div>
                            </div>
                            <div class="col-12 py-2">
                                <label for="" class="">Agent Name <sup>*</sup></label>
                                <input type="text" class="form-control " placeholder="Enter Agent Name"
                                    formControlName="agentName">
                                <div
                                    *ngIf="agentFormData.controls['agentName'].touched && agentFormData.controls['agentName'].dirty && agentFormData.controls['agentName'].hasError('required') && !isSubmitted">
                                    <p class="error-message">Agent Name is mandatory</p>
                                </div>
                                <div *ngIf="isSubmitted && agentFormData.controls['agentName'].hasError('required')">
                                    <p class="error-message">Agent Name is mandatory</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6">
                        <div class="row">
                            <div class="col-12 py-2">
                                <section class="file-border">
                                    <div class="row">
                                        <div class="col-12 d-flex justify-content-center py-1"
                                            style="position: relative;">
                                            <img class="img-ava"
                                                [src]="imageSrc?imageSrc:'/assets/logs/profile.png'"><sup
                                                class="delete_img" (click)="deletePerview()" *ngIf="imageSrc"><mat-icon
                                                    style="font-size: 20px;display: flex;align-items: center;justify-content: center;">delete</mat-icon></sup>

                                        </div>
                                        <div class="col-12 d-flex justify-content-center py-1">
                                            <span class="upload_text" (click)="uploadFile(inputFile,'log')">
                                                Choose Agent Photo</span>
                                            <input type="file" #inputFile class="d-none"
                                                (change)="handleUploadFile($event)">
                                        </div>
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div> -->
                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6">
                        <div class="row">
                            <div class="col-12 py-2">
                                <section class="file-border">
                                    <div class="row">
                                        <div class="col-12 d-flex justify-content-center py-1"
                                            style="position: relative;">
                                            <img class="img-ava"
                                                [src]="imageSrc?imageSrc:'/assets/logs/profile.png'"><sup
                                                class="delete_img" (click)="deletePerview()" *ngIf="imageSrc"><mat-icon
                                                    style="font-size: 20px;display: flex;align-items: center;justify-content: center;">delete</mat-icon></sup>

                                        </div>
                                        <div class="col-12 d-flex justify-content-center py-1">
                                            <span (click)="uploadFile(inputFile,'log')" class="upload_text">
                                                Choose Agent Photo</span>
                                            <input type="file" #inputFile class="d-none"
                                                (change)="handleUploadFile($event)">
                                        </div>
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div>

                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">
                        <label for="example">Category <sup>*</sup></label>
                        <select class="form-select " aria-label="Default select example" formControlName="category">
                            <option [selected]="agentFormData.value.category === ''" value="" hidden>
                                Select
                                Category</option>
                            <option value="POS Agent">POS Agent</option>
                            <div
                                *ngIf="agentFormData.controls['category'].touched && agentFormData.controls['category'].dirty && agentFormData.controls['category'].hasError('required') && !isSubmitted">
                                <p class="error-message">Category is mandatory</p>
                            </div>
                            <div *ngIf="isSubmitted && agentFormData.controls['category'].hasError('required')">
                                <p class="error-message">Category is mandatory</p>
                            </div>
                        </select>

                    </div>
                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">
                        <label for="" class="">Address</label>
                        <input type="text" class="form-control " placeholder="Enter Address" formControlName="address">


                    </div>
                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">

                        <label for="" class="">Country </label>
                        <select class="form-select " aria-label="Default select example" formControlName="country">
                            <option [selected]="agentFormData.value.country === ''" value="" hidden>
                                Select
                                Country</option>
                            <option value="India">India</option>
                        </select>
                    </div>
                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">
                        <label for="">State </label>
                        <select class="form-select " aria-label="Default select example" formControlName="state">
                            <option [selected]="agentFormData.value.state === ''" value="" hidden>
                                Select
                                State</option>
                            <option value="Andhra Pradesh">Andhra Pradesh</option>
                            <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                            <option value="Assam">Assam</option>
                            <option value="Bihar">Bihar</option>
                            <option value="Chhattisgarh">Chhattisgarh</option>
                            <option value="Goa">Goa</option>
                            <option value="Gujarat">Gujarat</option>
                            <option value="Haryana">Haryana</option>
                            <option value="Himachal Pradesh">Himachal Pradesh</option>
                            <option value="Jharkhand">Jharkhand</option>
                            <option value="Karnataka">Karnataka</option>
                            <option value="Kerala">Kerala</option>
                            <option value="Madhya Pradesh">Madhya Pradesh</option>
                            <option value="Maharashtra">Maharashtra</option>
                            <option value="Manipur">Manipur</option>
                            <option value="Meghalaya">Meghalaya</option>
                            <option value="Mizoram">Mizoram</option>
                            <option value="Nagaland">Nagaland</option>
                            <option value="Odisha">Odisha</option>
                            <option value="Punjab">Punjab</option>
                            <option value="Rajasthan">Rajasthan</option>
                            <option value="Sikkim">Sikkim</option>
                            <option value="Tamil Nadu">Tamil Nadu</option>
                            <option value="Telangana">Telangana</option>
                            <option value="Tripura">Tripura</option>
                            <option value="Uttar Pradesh">Uttar Pradesh</option>
                            <option value="Uttarakhand">Uttarakhand</option>
                            <option value="West Bengal">West Bengal</option>


                        </select>
                    </div>
                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">

                        <label for="">City </label>
                        <select class="form-select " aria-label="Default select example" formControlName="city">
                            <option [selected]="agentFormData.value.city === ''" value="" hidden>
                                Select
                                City</option>
                            <option value="Agra">Agra</option>
                            <option value="Aligarh">Aligarh</option>
                            <option value="Ambedkar Nagar">Ambedkar Nagar</option>
                            <option value="Amethi">Amethi</option>
                            <option value="Amroha">Amroha</option>
                            <option value="Auraiya">Auraiya</option>
                            <option value="Ayodhya">Ayodhya</option>
                            <option value="Azamgarh">Azamgarh</option>
                            <option value="Baghpat">Baghpat</option>
                            <option value="Bahraich">Bahraich</option>
                            <option value="Ballia">Ballia</option>
                            <option value="Balrampur">Balrampur</option>
                            <option value="Banda">Banda</option>
                            <option value="Barabanki">Barabanki</option>
                            <option value="Bareilly">Bareilly</option>
                            <option value="Basti">Basti</option>
                            <option value="Bijnor">Bijnor</option>
                            <option value="Budaun">Budaun</option>
                            <option value="Bulandshahr">Bulandshahr</option>
                            <option value="Chandauli">Chandauli</option>
                            <option value="Chitrakoot">Chitrakoot</option>
                            <option value="Deoria">Deoria</option>
                            <option value="Etah">Etah</option>
                            <option value="Etawah">Etawah</option>
                            <option value="Firozabad">Firozabad</option>
                            <option value="Gautam Buddha Nagar (Noida)">Gautam Buddha Nagar (Noida)</option>
                            <option value="Ghaziabad">Ghaziabad</option>
                            <option value="Ghazipur">Ghazipur</option>
                            <option value="Gonda">Gonda</option>
                            <option value="Gorakhpur">Gorakhpur</option>
                            <option value="Hamirpur">Hamirpur</option>
                            <option value="Hapur">Hapur</option>
                            <option value="Hardoi">Hardoi</option>
                            <option value="Hathras">Hathras</option>
                            <option value="Jalaun">Jalaun</option>
                            <option value="Jaunpur">Jaunpur</option>
                            <option value="Jhansi">Jhansi</option>
                            <option value="Kannauj">Kannauj</option>
                            <option value="Kanpur Dehat">Kanpur Dehat</option>
                            <option value="Kanpur Nagar">Kanpur Nagar</option>
                            <option value="Kasganj">Kasganj</option>
                            <option value="Kaushambi">Kaushambi</option>
                            <option value="Kushinagar">Kushinagar</option>
                            <option value="Lakhimpur Kheri">Lakhimpur Kheri</option>
                            <option value="Lalitpur">Lalitpur</option>
                            <option value="Lucknow">Lucknow</option>
                            <option value="Maharajganj">Maharajganj</option>
                            <option value="Mahoba">Mahoba</option>
                            <option value="Mainpuri">Mainpuri</option>
                            <option value="Mathura">Mathura</option>
                        </select>
                    </div>
                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">

                        <label for="">Pin Code </label>
                        <input type="text" class="form-control " placeholder="Enter Pin Code" formControlName="pinCode">


                    </div>
                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">
                        <label for="">Mobile <sup>*</sup></label>
                        <input maxlength="10" min="0" class="form-control " placeholder="Enter Mobile Number"
                            formControlName="mobile"
                            onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57">
                        <div
                            *ngIf="agentFormData.controls['mobile'].touched && agentFormData.controls['mobile'].dirty && agentFormData.controls['mobile'].hasError('required') && !isSubmitted">
                            <p class="error-message">Mobile Number is mandatory</p>
                        </div>
                        <div *ngIf="isSubmitted && agentFormData.controls['mobile'].hasError('required')">
                            <p class="error-message">Mobile Number is mandatory</p>
                        </div>
                        <div *ngIf="agentFormData.controls['mobile'].hasError('minlength')">
                            <p class="error-message">Mobile Number is not Valid</p>
                        </div>
                        <div *ngIf="agentFormData.controls['mobile'].hasError('maxlength')">
                            <p class="error-message">Mobile Number is not Valid</p>
                        </div>
                    </div>
                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">
                        <label for="">Mail Id <sup>*</sup></label>
                        <input type="email" class="form-control " placeholder="Enter Mail Id" formControlName="mailId">
                        <div
                            *ngIf="agentFormData.controls['mailId'].touched && agentFormData.controls['mailId'].dirty && agentFormData.controls['mailId'].hasError('required') && !isSubmitted">
                            <p class="error-message">Mail Id is mandatory</p>
                        </div>
                        <div *ngIf="isSubmitted && agentFormData.controls['mailId'].hasError('required')">
                            <p class="error-message">Mail Id is mandatory</p>
                        </div>
                        <div *ngIf="agentFormData.get('mailId').hasError('pattern')">
                            <p class="error-message">Please enter a valid email address.</p>
                        </div>
                    </div>

                </div>
                <div class="row border mt-2">
                    <h2>KYC</h2>

                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2 ">
                        <div class="d-flex d-grid gap-2">
                            <input type="text" class="form-control w-50" placeholder="Enter Aadhar Card Number"
                                formControlName="aadharNumber">
                            <!-- <span class="upload_text">{{agentFormData.value.companyRegistrationFilePath ?
                                agentFormData.value.photo : 'Upload Aadhar'}}
                                <input type="file" #inputFile class="d-none">
                            </span> -->
                            <span (click)="uploadFile(inputFile, 'aadhar_no')" class="upload_text">
                                {{agentFormData.value.aadharFilePath ? agentFormData.value.aadharFilePath
                                : 'Upload Aadhar'}}</span>
                            <input type="file" #inputFile class="d-none" (change)="handleUploadFile($event)">
                        </div>
                    </div>
                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2 ">
                        <div class="d-flex d-grid gap-2">
                            <input type="text" class="form-control w-50" placeholder="Enter PAN No"
                                formControlName="panNumber">
                            <!-- <span class="upload_text">{{agentFormData.value.companyRegistrationFilePath ?
                                agentFormData.value.photo : 'Upload PAN'}}
                                <input type="file" #inputFile class="d-none">
                            </span> -->
                            <span (click)="uploadFile(inputFile, 'pan_no')" class="upload_text">
                                {{agentFormData.value.panFilePath ? agentFormData.value.panFilePath
                                : 'Upload PAN'}}</span>
                            <input type="file" #inputFile class="d-none" (change)="handleUploadFile($event)">
                        </div>
                    </div>

                </div>

                <div class="col-12 d-flex justify-content-end py-2">
                    <button type="button" class="btn btn-primary" (click)="fileUpload()">Save</button>
                </div>
            </form>
        </div>
    </div>
</div>