<app-side-nav (isShowNav)="handleSideBar($event)"></app-side-nav>
<div class="container-fluid " [ngStyle]="{'padding-left' : isShowPadding ? '280px' : '100px'}">
    <div class="row">
        <div class="col-12">
            <h2><mat-icon class="back" routerLink="/setting/company-code-list">arrow_back</mat-icon>Company code
            </h2>
        </div>
    </div>
    <div class="row">
        <div class="col-12 ">
            <form [formGroup]="companyCodeFormData" (ngSubmit)="submitData()">
                <div class="row border">
                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">
                        <label for="" class="">Company Code <sup>*</sup></label>
                        <input type="text" class="form-control " placeholder="Enter Company Code" formControlName="companyCode">
                        <div
                            *ngIf="companyCodeFormData.controls['companyCode'].touched && companyCodeFormData.controls['companyCode'].dirty && companyCodeFormData.controls['companyCode'].hasError('required') && !isSubmitted">
                            <p class="error-message">Company Code is mandatory</p>
                        </div>
                        <div *ngIf="isSubmitted && companyCodeFormData.controls['companyCode'].hasError('required')">
                            <p class="error-message">Company Code is mandatory</p>
                        </div>
                    </div>
                    
                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">
                        <label for="" class="">Company Name <sup>*</sup></label>
                        <input type="text" class="form-control " placeholder="Enter Company Name"
                            formControlName="companyName">
                        <div
                            *ngIf="companyCodeFormData.controls['companyName'].touched && companyCodeFormData.controls['companyName'].dirty && companyCodeFormData.controls['companyName'].hasError('required') && !isSubmitted">
                            <p class="error-message">Company Name is mandatory</p>
                        </div>
                        <div *ngIf="isSubmitted && companyCodeFormData.controls['companyName'].hasError('required')">
                            <p class="error-message">Company Name is mandatory</p>
                        </div>
                    </div>

                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">
                        <label for="" class="">Address</label>
                        <input type="text" class="form-control " placeholder="Enter Address" formControlName="address">

                    </div>
                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">

                        <label for="" class="">Country </label>
                        <select class="form-select " aria-label="Default select example" formControlName="country">
                            <option [selected]="companyCodeFormData.value.country === ''" value="" hidden>
                                Select
                                Country</option>
                                <option value="India">India</option>
                        </select>
                    </div>
                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">
                        <label for="">State </label>
                        <select class="form-select " aria-label="Default select example" formControlName="state">
                            <option [selected]="companyCodeFormData.value.state === ''" value="" hidden> Select State</option>
                            <option *ngFor="let state of states" [value]="state">{{ state }}</option>


                        </select>
                    </div>
                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">

                        <label for="">City </label>
                        <select class="form-select " aria-label="Default select example" formControlName="city">
                            <option [selected]="companyCodeFormData.value.city === ''" value="" hidden> Select City</option>
                            <option *ngFor="let city of cities[companyCodeFormData.get('state').value]" [value]="city">{{ city }}</option>
    
                           
                        </select>
                    </div>
                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">

                        <label for="">Pin Code </label>
                        <input type="text" class="form-control " placeholder="Enter Pin Code" formControlName="pinCode">


                    </div>
                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">
                        <label for="">Mobile <sup>*</sup></label>
                        <input maxlength="10" min="0" class="form-control " placeholder="Enter Mobile Number"
                        formControlName="mobile" onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57">
                   
                        <div
                            *ngIf="companyCodeFormData.controls['mobile'].touched && companyCodeFormData.controls['mobile'].dirty && companyCodeFormData.controls['mobile'].hasError('required') && !isSubmitted">
                            <p class="error-message">Mobile Number is mandatory</p>
                        </div>
                        <div *ngIf="isSubmitted && companyCodeFormData.controls['mobile'].hasError('required')">
                            <p class="error-message">Mobile Number is mandatory</p>
                        </div>
                    </div>
                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">
                        <label for="">Mail Id <sup>*</sup></label>
                        <input type="email" class="form-control " placeholder="Enter Mail Id" formControlName="mailId">
                        <div
                            *ngIf="companyCodeFormData.controls['mailId'].touched && companyCodeFormData.controls['mailId'].dirty && companyCodeFormData.controls['mailId'].hasError('required') && !isSubmitted">
                            <p class="error-message">Mail Id is mandatory</p>
                        </div>
                        <div *ngIf="isSubmitted && companyCodeFormData.controls['mailId'].hasError('required')">
                            <p class="error-message">Mail Id is mandatory</p>
                        </div>
                        <div *ngIf="companyCodeFormData.get('mailId').hasError('pattern')">
                            <p class="error-message">Please enter a valid email address.</p>
                          </div>
                    </div>

                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">
                        <label for="">Company Registration No</label>
                        <input type="text" placeholder="Enter company reg. no." class="form-control" formControlName="companyRegistrationNo">
                    </div>

                    <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 py-2">
                        <label for="">PAN Number</label>
                        <input type="text" placeholder="Enter pan no" class="form-control" formControlName="panNumber" appPandirective>
                    </div>

                </div>
                

                <div class="col-12 d-flex justify-content-end py-2">
                    <button type="submit" class="btn btn-primary" style="background-color: #00acff;">Save</button>
                </div>
            </form>
        </div>
    </div>
</div>